const offset=25;function handleFragment(t){if(!t)return;const e=document.getElementById(t);if(!e)return;const n=e.getBoundingClientRect().top+window.scrollY-25;window.scrollTo({top:n,behavior:"smooth"}),document.querySelectorAll(".target-highlight").forEach(t=>{t.classList.remove("target-highlight")}),/^fn(:|ref:)/.test(t)&&e.classList.add("target-highlight")}document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add("smooth-fragments");const t=window.location.hash.substring(1);t&&handleFragment(t)}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const e=this.getAttribute("href").substring(1);e&&(t.preventDefault(),handleFragment(e),history.pushState(null,"",`#${e}`))})});